<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>মির্জা সাহেব কে বাঁচাও</title>

<style>
body {
  margin: 0;
  overflow: hidden;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(180deg, #0f2027, #203a43, #2c5364);
  color: white;
}

#ui {
  position: fixed;
  top: 10px;
  width: 100%;
  text-align: center;
  z-index: 10;
}

#title {
  font-size: 22px;
  font-weight: bold;
}

#score {
  font-size: 18px;
  margin-top: 5px;
}

canvas {
  display: block;
}

#footer {
  position: fixed;
  bottom: 8px;
  width: 100%;
  text-align: center;
  font-size: 13px;
  color: #aaa;
}

#footer span {
  color: #00ffd5;
  font-weight: bold;
}
</style>
</head>

<body>

<div id="ui">
  <div id="title">মির্জা সাহেব কে বাঁচাও</div>
  <div id="score">Score: 0</div>
</div>

<canvas id="game"></canvas>

<div id="footer">
  Developed by <span>Mahmud Gaming</span>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let ground = canvas.height - 120;

// Player (Mirza)
let player = {
  x: 80,
  y: ground,
  w: 40,
  h: 60,
  vy: 0,
  jump: false
};

// Obstacles (Nasir effect)
let obstacles = [];
let speed = 6;
let gravity = 1;
let score = 0;
let frame = 0;
let gameOver = false;

// Controls
document.addEventListener("click", jump);
document.addEventListener("keydown", e => {
  if (e.code === "Space") jump();
});

function jump() {
  if (!player.jump) {
    player.vy = -18;
    player.jump = true;
  }
}

function spawnObstacle() {
  obstacles.push({
    x: canvas.width,
    y: ground + 20,
    w: 30,
    h: 40
  });
}

function update() {
  if (gameOver) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Ground
  ctx.fillStyle = "#111";
  ctx.fillRect(0, ground + 60, canvas.width, 5);

  // Player physics
  player.vy += gravity;
  player.y += player.vy;

  if (player.y >= ground) {
    player.y = ground;
    player.vy = 0;
    player.jump = false;
  }

  // Draw player
  ctx.fillStyle = "#00ffcc";
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Obstacles
  for (let i = 0; i < obstacles.length; i++) {
    let o = obstacles[i];
    o.x -= speed;

    ctx.fillStyle = "#ff4757";
    ctx.fillRect(o.x, o.y, o.w, o.h);

    // Collision
    if (
      player.x < o.x + o.w &&
      player.x + player.w > o.x &&
      player.y < o.y + o.h &&
      player.y + player.h > o.y
    ) {
      gameOver = true;
      alert("Game Over!\nScore: " + score);
      location.reload();
    }
  }

  // Remove offscreen obstacles
  obstacles = obstacles.filter(o => o.x + o.w > 0);

  // Spawn logic
  if (frame % 90 === 0) {
    spawnObstacle();
  }

  // Difficulty increase
  if (frame % 300 === 0) {
    speed += 0.5;
  }

  // Score
  score++;
  document.getElementById("score").innerText = "Score: " + score;

  frame++;
  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
